<h3>Tanents Overview</h3>
<div class="d-flex align-items-center bg-light rounded p-3 row">
  <div class="d-flex align-items-center col-3">
    <div class="p-2 bg-success-subtle rounded">
      <i class="fa-solid fa-user-group fs-4 text-success"></i>
    </div>
    <div class="d-flex flex-column ms-3 text-success-emphasis">
      <span class="fs-4 fw-bold"> {{ client.count }} </span>
      <small>Total Clients</small>
    </div>
  </div>
  <div class="d-flex align-items-center col-3">
    <div class="p-2 bg-info-subtle rounded">
      <i class="fa-solid fa-user-clock fs-4 text-info"></i>
    </div>
    <div class="d-flex flex-column ms-3 text-info-emphasis">
      <span class="fs-4 fw-bold">5</span> <small>Client wait</small>
    </div>
  </div>
  <div class="d-flex align-items-center col-3">
    <div class="border rounded bg-success-subtle">
      <button
        class="btn px-4 py-3 fw-bold"
        data-bs-toggle="modal"
        data-bs-target="#staticBackdrop"
      >
        <i class="fa-solid fa-plus text-white me-1"></i> New Tanent
      </button>
    </div>
  </div>
</div>
<div class="table-responsive">
  <div class="table-option my-4">
    <h5>Filter</h5>
  </div>
  <table class="table table-striped table-hover">
    <thead>
      <tr>
        <th>Client Name</th>
        <th>Phone</th>
        <th>Adress</th>
        <th>Email</th>
        <th>Loan</th>
      </tr>
    </thead>
    <tbody>
      @for (item of client.results; track $index) {
        <tr routerLink="/l/Tdetails/ {{ item.id }}">
          <td>{{ item.nom }} {{ item.prenom }}</td>
          <td>{{ item.telephone }}</td>
          <td>{{ item.adresse }}</td>
          <td>{{ item.email }}</td>
          <td>{{ item.solde_dette }}</td>
        </tr>
      }
    </tbody>
  </table>
</div>
<!-- Modal -->
<div
  class="modal fade"
  id="staticBackdrop"
  data-bs-backdrop="static"
  data-bs-keyboard="false"
  tabindex="-1"
  aria-labelledby="staticBackdropLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">New Tanent</h1>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body p-4">
        <form
          [formGroup]="clientForm"
          (ngSubmit)="newClient()"
          enctype="multipart/form-data"
        >
          <div class="d-flex">
            <div class="form-floating mb-3 me-2">
              <input
                type="text"
                class="form-control"
                id="floatingInput"
                placeholder="name@example.com"
                formControlName="nom"
              />
              <label for="floatingInput">Nom</label>
            </div>
            <div class="form-floating mb-3 me-2">
              <input
                type="text"
                class="form-control"
                id="floatingInput"
                placeholder="name@example.com"
                formControlName="prenom"
              />
              <label for="floatingInput">Prenom</label>
            </div>
          </div>
          <div class="d-flex">
            <div class="form-floating mb-3 me-2">
              <input
                type="text"
                class="form-control"
                id="floatingInput"
                placeholder="name@example.com"
                formControlName="adresse"
              />
              <label for="floatingInput">Adresse</label>
            </div>
            <div class="form-floating mb-3 me-2">
              <input
                type="text"
                class="form-control"
                id="floatingInput"
                placeholder="name@example.com"
                formControlName="telephone"
              />
              <label for="floatingInput">Telephone</label>
            </div>
          </div>
          <div class="form-floating mb-3 me-2">
            <input
              type="email"
              class="form-control"
              id="floatingInput"
              placeholder="name@example.com"
              formControlName="email"
            />
            <label for="floatingInput">Email</label>
          </div>
          @if (image) {
            <img
              class="mt-2"
              [src]="image"
              alt="profile"
              style="object-fit: cover; width: 100%; height: 100%"
            />
          }

          <div class="border-top text-center mb-t">
            <button
              type="submit"
              class="btn btn-success my-3 px-4"
              [disabled]="isSubmiting"
            >
              @if (isSubmiting) {
                <i class="fa-solid fa-spinner fa-spinner-pulse me-2"></i>
              }
              Register
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
